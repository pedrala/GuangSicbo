{"remainingRequest":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/thread-loader/dist/cjs.js!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/babel-loader/lib/index.js!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/src/App.vue","mtime":1567760082000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.parse-float\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { flatMap } from 'rxjs/operators';\nimport { mapState, mapMutations } from 'vuex';\nimport Drawer from \"./components/Drawer.vue\";\nimport Appbar from \"./components/Appbar.vue\";\nimport Bonus from \"./components/Bonus.vue\";\nimport Referral from \"./components/Referral.vue\";\nimport Howto from \"./components/HowToModal.vue\";\nimport { throwError } from 'rxjs';\nvar LANDING_STATIC = 1284;\nvar LANDING_MOBILE = 984;\nvar SICBO_MOBILE_WIDTH = 1024;\nvar SICBO_MOBILE_HEIGHT = 680;\nexport default {\n  /**\r\n   * Data\r\n   */\n  data: function data() {\n    return {\n      initialized: false,\n      musicSrc: '/music/music.mp3',\n      isTokenChanged: false,\n      isLangChanged: false,\n      showBonus: false,\n      showReferral: false,\n      showHowto: false,\n      isModal: false\n    };\n  },\n\n  /**\r\n   * Computed\r\n   */\n  computed: mapState({\n    isDrawer: function isDrawer(state) {\n      return state.common.drawerMode !== 'static' && state.common.drawerState === 'open';\n    },\n\n    /**\r\n     * Contents 패딩 영역의 css class\r\n     */\n    classPadding: function classPadding(state) {\n      if (state.common.drawerMode === 'static') return 'padding static';\n\n      if (state.common.drawerState === 'open') {\n        return 'padding-close';\n      }\n\n      return 'padding-close';\n    },\n\n    /**\r\n     * Navigation drawer의 css class\r\n     */\n    classDrawer: function classDrawer(state) {\n      if (state.common.drawerMode === 'static') return 'static';\n\n      if (state.common.drawerMode === 'overlap' && state.common.appbarMode === 'mobile') {\n        if (state.common.drawerState === 'close') {\n          if (!this.initialized) {\n            this.initialized = true;\n            return 'over-tall close-without-ani';\n          }\n\n          return 'over-tall close';\n        } else if (state.common.drawerState === 'close-without-ani') {\n          return 'over-tall close-without-ani';\n        }\n\n        return 'over-tall open';\n      }\n\n      if (state.common.drawerState === 'close') {\n        return 'over-short close';\n      } else if (state.common.drawerState === 'close-without-ani') {\n        return 'over-short close-without-ani';\n      }\n\n      return 'over-short open';\n    },\n\n    /**\r\n     * Navigation drawer의 뒤에 깔리는 반투명 div의 css class\r\n     */\n    classDrawerScrim: function classDrawerScrim(state) {\n      if (state.common.drawerMode === 'static') {\n        document.body.style.overflow = '';\n        return '';\n      }\n\n      if (state.common.drawerState === 'open') {\n        document.body.style.overflow = 'hidden';\n        return 'open';\n      }\n\n      document.body.style.overflow = '';\n      return 'close';\n    },\n\n    /**\r\n     * Contents 영역의 css class\r\n     */\n    classContents: function classContents(state) {\n      if (state.common.drawerMode === 'static') return \"pc\";\n\n      if (state.common.drawerState === 'open') {\n        return \"\".concat(state.common.appbarMode);\n      }\n\n      return \"\".concat(state.common.appbarMode);\n    },\n\n    /**\r\n     * \r\n     */\n    userName: function userName(state) {\n      if (!state.common.account.name) {\n        return '';\n      }\n\n      return state.common.account.name;\n    }\n  }),\n\n  /**\r\n   * Created\r\n   */\n  created: function created() {\n    if (this.$route.query.ref && this.$route.query.ref.length <= 12) {\n      localStorage.setItem('GuangGame.Referral', this.$route.query.ref);\n    }\n\n    window.addEventListener('resize', this.onResize);\n    this.showHowtoAtFirst(); //\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroyed: function destroyed() {\n    window.removeEventListener('resize', this.onResize);\n  },\n\n  /**\r\n   * Mounted\r\n   */\n  mounted: function mounted() {\n    this.onResize();\n    this.login();\n  },\n\n  /**\r\n   * Method\r\n   */\n  methods: _objectSpread({}, mapMutations(['setAppbarMode', 'setDrawerState', 'setDrawerMode', 'setAccount', 'setEosBalance', 'setTazBalance', 'setTazchipBalance', 'setUserData']), {\n    /**\r\n     * 브라우져 화면 크기에 변화가 생겼을 때 호출 되는 이벤트 콜백 함수\r\n     */\n    onResize: function onResize() {\n      if (this.$route.name === 'sicbo') {\n        if (window.innerWidth < SICBO_MOBILE_WIDTH || window.innerHeight < SICBO_MOBILE_HEIGHT) {\n          this.setAppbarMode('mobile');\n        } else {\n          this.setAppbarMode('pc');\n        }\n\n        this.setDrawerMode('overlap');\n        this.setDrawerState('close');\n        this.$eventBus.$emit('resize', {\n          w: window.innerWidth,\n          h: window.innerHeight\n        });\n      } else {\n        if (window.innerWidth >= LANDING_STATIC) {\n          this.setAppbarMode('pc');\n          this.setDrawerMode('static');\n          this.setDrawerState('open');\n        } else if (window.innerWidth >= LANDING_MOBILE) {\n          this.setAppbarMode('pc');\n          this.setDrawerMode('overlap');\n          this.setDrawerState('close');\n        } else {\n          this.setAppbarMode('mobile');\n          this.setDrawerMode('overlap');\n          this.setDrawerState('close');\n        }\n      }\n    },\n\n    /**\r\n     * Navigation drawer을 닫는다.\r\n     */\n    closeDrawer: function closeDrawer() {\n      this.setDrawerState('close');\n    },\n    changeLang: function changeLang(langToChange) {\n      var _this = this;\n\n      console.log(langToChange);\n\n      if (this.$i18n.locale !== langToChange) {\n        if (!this.$loadedLanguages[langToChange]) {\n          return import(\n          /* webpackChunkName: \"lang-[request]\" */\n          \"@/languages/\".concat(langToChange)).then(function (msgs) {\n            _this.$i18n.setLocaleMessage(langToChange, msgs.default);\n\n            _this.$loadedLanguages[langToChange] = msgs;\n            _this.$i18n.locale = langToChange;\n            localStorage.setItem('GuangGame.Language', langToChange);\n            _this.isLangChanged = !_this.isLangChanged;\n          });\n        }\n\n        this.$i18n.locale = langToChange;\n        localStorage.setItem('GuangGame.Language', langToChange);\n        this.isLangChanged = !this.isLangChanged;\n      }\n    },\n\n    /**\r\n     * Login\r\n     */\n    login: function login() {\n      var _this2 = this;\n\n      this.$chain.connect().pipe(flatMap(function (connected) {\n        if (connected) {\n          return _this2.$chain.login();\n        }\n\n        return throwError(new Error('No scatter'));\n      })).subscribe(function (account) {\n        _this2.setAccount(account);\n\n        _this2.$chain.getEosBalance(account.name).subscribe(function (eosBalance) {\n          if (eosBalance.length > 0) {\n            var token = eosBalance[0].split(' ');\n\n            _this2.setEosBalance(Number.parseFloat(token[0]));\n          } else {\n            _this2.setEosBalance(0);\n          }\n        }, function (error) {\n          return console.error(error);\n        });\n\n        _this2.$chain.getBalance('taztokenbase', account.name, 'TAZ').subscribe(function (tazBalance) {\n          if (tazBalance.length > 0) {\n            var token = tazBalance[0].split(' ');\n\n            _this2.setTazBalance(Number.parseFloat(token[0]));\n          } else {\n            _this2.setTazBalance(0);\n          }\n        }, function (error) {\n          return console.error(error);\n        });\n\n        _this2.$chain.getBalance('taztokenbase', account.name, 'TAZCHIP').subscribe(function (tazchipBalance) {\n          if (tazchipBalance.length > 0) {\n            var token = tazchipBalance[0].split(' ');\n\n            _this2.setTazchipBalance(Number.parseFloat(token[0]));\n          } else {\n            _this2.setTazchipBalance(0);\n          }\n        }, function (error) {\n          return console.error(error);\n        });\n\n        _this2.$eventBus.$emit('login');\n\n        _this2.$ws.connectprivateChannel(account.name);\n\n        _this2.fetchUserData(account.name);\n      }, function (error) {\n        // user rejected the provision of an Identity\n        // No scatter\n        console.error(error.message);\n      });\n    },\n\n    /**\r\n     * Logout\r\n     */\n    logout: function logout() {\n      this.setAccount({});\n      this.setEosBalance(0);\n      this.setTazBalance(0);\n      this.setTazchipBalance(0);\n      this.$eventBus.$emit('logout');\n      this.setUserData({\n        account: '',\n        vip: 0,\n        accumulated_bet: 0,\n        accumulated_prize: 0,\n        staked: 0,\n        unstaking: 0,\n        unstaking_requested: 0,\n        created: '',\n        updated: '',\n        signup_reward: 0\n      });\n    },\n    //\n    // 배경음 재생\n    //\n    playMusic: function playMusic() {\n      var isOn = localStorage.getItem('GuangGame.music');\n      var music = document.getElementById('music');\n\n      if (isOn === 'on') {\n        music.play();\n      } else {\n        music.pause();\n      }\n    },\n    //\n    // 다른 토큰이 선택됐는지 여부 확인\n    //\n    setToken: function setToken() {\n      this.isTokenChanged = !this.isTokenChanged;\n    },\n    //\n    // 모달창 열림\n    //\n    showModal: function showModal(target) {\n      this.setDrawerState('close');\n      this.isModal = true;\n\n      if (target === 'bonus') {\n        this.showBonus = true;\n      } else if (target === 'referral') {\n        this.showReferral = true;\n      } else {\n        this.showHowto = true;\n      }\n    },\n    //\n    // 모달창 닫음\n    //\n    closeModal: function closeModal() {\n      this.isModal = false;\n      this.showBonus = false;\n      this.showReferral = false;\n      this.showHowto = false;\n    },\n\n    /**\r\n     * 서버로부터 사용자 정보를 조회한다.\r\n     */\n    fetchUserData: function fetchUserData(account) {\n      var _this3 = this;\n\n      fetch(\"\".concat(this.$REST_API_SERVER, \"/api/v1/users?account=\").concat(account), {\n        \"method\": \"GET\",\n        \"headers\": {\n          \"content-type\": \"application/json\"\n        }\n      }).then(function (response) {\n        response.json().then(function (userData) {\n          _this3.setUserData(userData);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    //\n    // 드롭박스 열려 있을 때, 영역 외 화면 클릭시 닫힘\n    //\n    onTouch: function onTouch() {\n      this.$eventBus.$emit('close-dropdonw', '');\n    },\n    //\n    //  처음 접속한 유저에게 How To Play 모달 노출 \n    //\n    showHowtoAtFirst: function showHowtoAtFirst() {\n      if (!localStorage.isNewComer) {\n        this.isModal = true;\n        this.showHowto = true;\n      }\n    }\n  }),\n  watch: {\n    isDrawer: function isDrawer(val) {\n      if (val) {\n        this.isModal = true;\n      } else if (!(this.showBonus | this.showReferral | this.showHowto)) {\n        this.isModal = false;\n      }\n    },\n    //\n    // 모달창 노출 시, 모달창 뒤의 배경화면 고정 \n    //\n    isModal: function isModal(val) {\n      if (val) {\n        document.documentElement.style.overflow = 'hidden';\n        document.documentElement.style.position = 'fixed';\n        document.documentElement.style.height = '100vh';\n        document.documentElement.style.width = '100vw';\n      } else {\n        document.documentElement.style.position = '';\n        document.documentElement.style.overflow = 'auto';\n        document.documentElement.style.height = '100%';\n        document.documentElement.style.width = '100%';\n      }\n    }\n  },\n\n  /**\r\n   * Components\r\n   */\n  components: {\n    'g-drawer': Drawer,\n    'g-appbar': Appbar,\n    'modal-bonus': Bonus,\n    'modal-referral': Referral,\n    'modal-howto': Howto\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"app\" @click=\"onTouch\">\r\n    <audio id=\"music\" loop @canplaythrough=\"playMusic\" preload=\"auto\">\r\n      <source :src=\"musicSrc\" preload=\"auto\">\r\n    </audio>\r\n\r\n    <modal-bonus v-if=\"showBonus\" @close-bonus=\"closeModal\" />\r\n    <modal-referral v-if=\"showReferral\" @close-referral=\"closeModal\" />\r\n    <modal-howto v-if=\"showHowto\" @close-howto=\"closeModal\" />\r\n\r\n    <g-appbar ref=\"test\" @login=\"login\" @logout=\"logout\" @lang-change=\"changeLang($event)\" :is-lang-changed=\"isLangChanged\"\r\n      @token-changed=\"setToken()\" :is-token-changed=\"isTokenChanged\" @show-modal=\"showModal\" />\r\n    <aside id=\"drawer\" :class=\"classDrawer\">\r\n      <g-drawer @close-drawer=\"closeDrawer\" @show-modal=\"showModal\" @music-state-change=\"playMusic\"\r\n        @token-changed=\"setToken()\" :is-token-changed=\"isTokenChanged\" :is-lang-changed=\"isLangChanged\"\r\n        @lang-change=\"changeLang($event)\" @from-sicbo-to-elsewhere=\"onResize()\" @logout=\"logout\" @login=\"login\" />\r\n    </aside>\r\n    <div id=\"drawer-scrim\" :class=\"classDrawerScrim\" @click=\"closeDrawer\"></div>\r\n\r\n    <div id=\"contents\" :class=\"classContents\">\r\n      <div :class=\"classPadding\"></div>\r\n      <transition name=\"fade\" mode=\"out-in\">\r\n        <router-view :is-lang-changed=\"isLangChanged\" />\r\n      </transition>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { flatMap } from 'rxjs/operators'\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport Drawer from './components/Drawer.vue';\r\nimport Appbar from './components/Appbar.vue';\r\nimport Bonus from './components/Bonus.vue';\r\nimport Referral from './components/Referral.vue';\r\nimport Howto from './components/HowToModal.vue';\r\nimport { throwError } from 'rxjs';\r\n\r\nconst LANDING_STATIC = 1284;\r\nconst LANDING_MOBILE = 984;\r\nconst SICBO_MOBILE_WIDTH = 1024;\r\nconst SICBO_MOBILE_HEIGHT = 680;\r\n\r\nexport default {\r\n  /**\r\n   * Data\r\n   */\r\n  data() {\r\n    return {\r\n      initialized: false,\r\n      musicSrc: '/music/music.mp3',\r\n      isTokenChanged: false,\r\n      isLangChanged: false,\r\n      showBonus: false,\r\n      showReferral: false,\r\n      showHowto: false,\r\n      isModal: false,\r\n    }\r\n  },\r\n  /**\r\n   * Computed\r\n   */\r\n  computed: mapState({\r\n    isDrawer(state) {\r\n      return state.common.drawerMode !== 'static' && state.common.drawerState === 'open';\r\n    },\r\n    /**\r\n     * Contents 패딩 영역의 css class\r\n     */\r\n    classPadding(state) {\r\n      if (state.common.drawerMode === 'static') return 'padding static';\r\n      if (state.common.drawerState === 'open') {\r\n        return 'padding-close';\r\n      }\r\n      return 'padding-close';\r\n    },\r\n    /**\r\n     * Navigation drawer의 css class\r\n     */\r\n    classDrawer(state) {\r\n      if (state.common.drawerMode === 'static') return 'static';\r\n\r\n      if (state.common.drawerMode === 'overlap' && state.common.appbarMode === 'mobile') {\r\n        if (state.common.drawerState === 'close') {\r\n          if (!this.initialized) {\r\n            this.initialized = true;\r\n            return 'over-tall close-without-ani';\r\n          }\r\n          \r\n          return 'over-tall close';\r\n        } else if (state.common.drawerState === 'close-without-ani') {\r\n          return 'over-tall close-without-ani';  \r\n        }\r\n        return 'over-tall open';\r\n      }\r\n      \r\n      if (state.common.drawerState === 'close') {\r\n        return 'over-short close';  \r\n      } else if (state.common.drawerState === 'close-without-ani') {\r\n        return 'over-short close-without-ani'; \r\n      }\r\n      return 'over-short open';  \r\n    },\r\n    /**\r\n     * Navigation drawer의 뒤에 깔리는 반투명 div의 css class\r\n     */\r\n    classDrawerScrim(state) {\r\n      if (state.common.drawerMode === 'static') {\r\n        document.body.style.overflow = '';\r\n        return '';\r\n      }\r\n\r\n      if (state.common.drawerState === 'open') {\r\n        document.body.style.overflow = 'hidden';\r\n        return 'open';\r\n      }\r\n\r\n      document.body.style.overflow = '';\r\n      return 'close';\r\n    },\r\n    /**\r\n     * Contents 영역의 css class\r\n     */\r\n    classContents(state) {\r\n      if (state.common.drawerMode === 'static') return `pc`;\r\n      if (state.common.drawerState === 'open') {\r\n        return `${state.common.appbarMode}`;  \r\n      }\r\n      return `${state.common.appbarMode}`;\r\n    },\r\n    /**\r\n     * \r\n     */\r\n    userName(state) {\r\n      if (!state.common.account.name) {\r\n        return ''\r\n      }\r\n      return state.common.account.name;\r\n    }\r\n  }),\r\n  /**\r\n   * Created\r\n   */\r\n  created() {\r\n    if (this.$route.query.ref && this.$route.query.ref.length <= 12) {\r\n      localStorage.setItem('GuangGame.Referral', this.$route.query.ref);\r\n    }\r\n    window.addEventListener('resize', this.onResize);\r\n    this.showHowtoAtFirst(); //\r\n  },\r\n  /**\r\n   * Destroy\r\n   */\r\n  destroyed() {\r\n    window.removeEventListener('resize', this.onResize);\r\n  },\r\n  /**\r\n   * Mounted\r\n   */\r\n  mounted () {\r\n    this.onResize();\r\n    this.login();\r\n  },\r\n  /**\r\n   * Method\r\n   */\r\n  methods: {\r\n    /**\r\n     * vuex store\r\n     */\r\n    ...mapMutations([\r\n      'setAppbarMode',\r\n      'setDrawerState',\r\n      'setDrawerMode',\r\n      'setAccount',\r\n      'setEosBalance',\r\n      'setTazBalance',\r\n      'setTazchipBalance',\r\n      'setUserData'\r\n    ]),\r\n    /**\r\n     * 브라우져 화면 크기에 변화가 생겼을 때 호출 되는 이벤트 콜백 함수\r\n     */\r\n    onResize() {\r\n      if (this.$route.name === 'sicbo') {\r\n        if (window.innerWidth < SICBO_MOBILE_WIDTH || window.innerHeight < SICBO_MOBILE_HEIGHT) {\r\n          this.setAppbarMode('mobile');\r\n        } else {\r\n          this.setAppbarMode('pc');\r\n        }\r\n        this.setDrawerMode('overlap');\r\n        this.setDrawerState('close');\r\n        this.$eventBus.$emit('resize', {w: window.innerWidth, h: window.innerHeight});\r\n      } else {\r\n        if (window.innerWidth >= LANDING_STATIC) {\r\n          this.setAppbarMode('pc');\r\n          this.setDrawerMode('static');\r\n          this.setDrawerState('open');\r\n        } else if (window.innerWidth >= LANDING_MOBILE) {\r\n          this.setAppbarMode('pc');\r\n          this.setDrawerMode('overlap');\r\n          this.setDrawerState('close');\r\n        } else {\r\n          this.setAppbarMode('mobile');\r\n          this.setDrawerMode('overlap');\r\n          this.setDrawerState('close');\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * Navigation drawer을 닫는다.\r\n     */\r\n    closeDrawer() {\r\n      this.setDrawerState('close');\r\n    },\r\n    changeLang(langToChange) {\r\n      console.log(langToChange);\r\n      if (this.$i18n.locale !== langToChange) {\r\n        if (!this.$loadedLanguages[langToChange]) {\r\n          return import(/* webpackChunkName: \"lang-[request]\" */ `@/languages/${langToChange}`).then(msgs => {\r\n            this.$i18n.setLocaleMessage(langToChange, msgs.default)\r\n            this.$loadedLanguages[langToChange] = msgs;\r\n            this.$i18n.locale = langToChange;\r\n            localStorage.setItem('GuangGame.Language', langToChange);\r\n            this.isLangChanged = !this.isLangChanged;\r\n          })\r\n        }\r\n        this.$i18n.locale = langToChange;\r\n        localStorage.setItem('GuangGame.Language',langToChange)\r\n        this.isLangChanged = !this.isLangChanged;\r\n      }\r\n    },\r\n    /**\r\n     * Login\r\n     */\r\n    login() {\r\n      this.$chain.connect().pipe(\r\n        flatMap(connected => {\r\n          if (connected) {\r\n            return this.$chain.login()\r\n          }\r\n          return throwError(new Error('No scatter'));\r\n        })\r\n      ).subscribe(\r\n        account => {\r\n          this.setAccount(account);\r\n\r\n          this.$chain.getEosBalance(account.name).subscribe(\r\n            eosBalance => {\r\n              if (eosBalance.length > 0) {\r\n                const token = eosBalance[0].split(' ');\r\n                this.setEosBalance(Number.parseFloat(token[0]));\r\n              } else {\r\n                this.setEosBalance(0);\r\n              }\r\n            },\r\n            error => console.error(error)\r\n          );\r\n\r\n          this.$chain.getBalance('taztokenbase', account.name, 'TAZ').subscribe(\r\n            tazBalance => {\r\n              if (tazBalance.length > 0) {\r\n                const token = tazBalance[0].split(' ');\r\n                this.setTazBalance(Number.parseFloat(token[0]));\r\n              } else {\r\n                this.setTazBalance(0);\r\n              }\r\n            },\r\n            error => console.error(error)\r\n          );\r\n\r\n          this.$chain.getBalance('taztokenbase', account.name, 'TAZCHIP').subscribe(\r\n            tazchipBalance => {\r\n              if (tazchipBalance.length > 0) {\r\n                const token = tazchipBalance[0].split(' ');\r\n                this.setTazchipBalance(Number.parseFloat(token[0]));\r\n              } else {\r\n                this.setTazchipBalance(0);\r\n              }\r\n            },\r\n            error => console.error(error)\r\n          );\r\n\r\n          this.$eventBus.$emit('login');\r\n          this.$ws.connectprivateChannel(account.name);\r\n          this.fetchUserData(account.name);\r\n        },\r\n        error => {\r\n          // user rejected the provision of an Identity\r\n          // No scatter\r\n          console.error(error.message);\r\n        }\r\n      )\r\n    },\r\n    /**\r\n     * Logout\r\n     */\r\n    logout() {\r\n      this.setAccount({});\r\n      this.setEosBalance(0);\r\n      this.setTazBalance(0);\r\n      this.setTazchipBalance(0);\r\n      this.$eventBus.$emit('logout');\r\n      this.setUserData({\r\n        account: '',\r\n        vip: 0,\r\n        accumulated_bet: 0,\r\n        accumulated_prize: 0,\r\n        staked: 0,\r\n        unstaking: 0,\r\n        unstaking_requested: 0,\r\n        created: '',\r\n        updated: '',\r\n        signup_reward: 0\r\n      });\r\n    },\r\n    //\r\n    // 배경음 재생\r\n    //\r\n    playMusic() {\r\n      const isOn = localStorage.getItem('GuangGame.music');\r\n      const music = document.getElementById('music')\r\n      if(isOn === 'on') {\r\n        music.play();\r\n      } else {\r\n        music.pause();\r\n      }\r\n    },\r\n    //\r\n    // 다른 토큰이 선택됐는지 여부 확인\r\n    //\r\n    setToken() {\r\n      this.isTokenChanged = !this.isTokenChanged;\r\n    },\r\n    //\r\n    // 모달창 열림\r\n    //\r\n    showModal(target) {\r\n      this.setDrawerState('close');\r\n      this.isModal = true;\r\n      if(target === 'bonus') {\r\n        this.showBonus = true;\r\n      } else if(target === 'referral') {\r\n        this.showReferral = true;\r\n      } else {\r\n        this.showHowto = true;\r\n      }\r\n    },\r\n    //\r\n    // 모달창 닫음\r\n    //\r\n    closeModal() {\r\n      this.isModal = false;\r\n      this.showBonus = false;\r\n      this.showReferral = false;\r\n      this.showHowto = false;\r\n    },\r\n    /**\r\n     * 서버로부터 사용자 정보를 조회한다.\r\n     */   \r\n    fetchUserData(account) {\r\n      fetch(`${this.$REST_API_SERVER}/api/v1/users?account=${account}`, {\r\n        \"method\": \"GET\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(response => {\r\n        response.json().then(userData => {\r\n          this.setUserData(userData);\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    //\r\n    // 드롭박스 열려 있을 때, 영역 외 화면 클릭시 닫힘\r\n    //\r\n    onTouch() {\r\n      this.$eventBus.$emit('close-dropdonw','');\r\n    },\r\n    //\r\n    //  처음 접속한 유저에게 How To Play 모달 노출 \r\n    //\r\n    showHowtoAtFirst() {\r\n      if(!localStorage.isNewComer) {\r\n        this.isModal = true;\r\n        this.showHowto = true;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    isDrawer(val) {\r\n      if (val) {\r\n        this.isModal = true;\r\n      } else if (!(this.showBonus | this.showReferral | this.showHowto)) {\r\n        this.isModal = false;\r\n      }\r\n    },\r\n    //\r\n    // 모달창 노출 시, 모달창 뒤의 배경화면 고정 \r\n    //\r\n    isModal(val) {\r\n      if(val) {\r\n        document.documentElement.style.overflow = 'hidden';\r\n        document.documentElement.style.position = 'fixed';\r\n        document.documentElement.style.height = '100vh';\r\n        document.documentElement.style.width = '100vw';\r\n      } else {\r\n        document.documentElement.style.position = '';\r\n        document.documentElement.style.overflow = 'auto';\r\n        document.documentElement.style.height = '100%';\r\n        document.documentElement.style.width = '100%';\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * Components\r\n   */\r\n  components: {\r\n    'g-drawer': Drawer,\r\n    'g-appbar': Appbar,\r\n    'modal-bonus': Bonus,\r\n    'modal-referral': Referral,\r\n    'modal-howto': Howto,\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"./scss/flex.scss\";\r\n@import url('https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,400,500,700|Noto+Sans+SC:400,500,700|Roboto:300,400,500,700&display=swap');\r\n\r\nhtml,\r\nbody {\r\n  font-family: 'Roboto', 'Noto Sans KR', 'Noto Sans SC', sans-serif;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  min-width: 360px;\r\n  background: #0E1526;\r\n  overflow:auto; \r\n}\r\n\r\n#app {\r\n  display: block;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  color: black;\r\n}\r\n\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./scss/flex.scss\";\r\n@import \"./scss/variable.scss\";\r\n\r\n$drawer-width: 300px;\r\n\r\n#drawer {\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  min-width: $drawer-width;\r\n  height: 100%;\r\n\r\n  background: linear-gradient(180deg, #3C1708 0%, #130703 100%);\r\n\r\n  transition-property: all;\r\n  transition-duration: 1s;\r\n  transition-timing-function: ease;\r\n\r\n  &.over-tall {\r\n    z-index: 300;\r\n    overflow: auto;\r\n    &.open {\r\n      left: 0px;\r\n    }\r\n\r\n    &.close {\r\n      left: $drawer-width * -1;\r\n    }\r\n\r\n    &.close-without-ani {\r\n      transition-duration: 0s;\r\n      left: $drawer-width * -1;\r\n    }\r\n  }\r\n\r\n  &.over-short {\r\n    z-index: 100;\r\n\r\n    &.open {\r\n      left: 0px;\r\n    }\r\n\r\n    &.close {\r\n      left: $drawer-width * -1;\r\n    }\r\n\r\n    &.close-without-ani {\r\n      transition-duration: 0s;\r\n      left: $drawer-width * -1;\r\n    }\r\n  }\r\n\r\n  &.static {\r\n    position: absolute;\r\n    z-index: 100;\r\n    transition-duration: 1s;\r\n  }\r\n}\r\n\r\n#drawer-scrim {\r\n  position: fixed;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: 90;\r\n  height: 100%;\r\n  min-height: 100vh;\r\n  width: 0px;\r\n  transition-duration: 0s;\r\n\r\n  &.open {\r\n    width: 100%;\r\n    opacity: 1.0;\r\n    transition-property: all;\r\n    transition-duration: 1s;\r\n    transition-timing-function: ease;\r\n  }\r\n\r\n  &.close {\r\n    transition-property: all;\r\n    transition-duration: 1s;\r\n    transition-timing-function: ease;\r\n    opacity: 0.0;\r\n  }\r\n}\r\n\r\naudio {\r\n  width: 300px;\r\n  height: 300px;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0\r\n}\r\n\r\n#contents {\r\n  @extend .flex;\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  z-index: 0;\r\n  width: 100%;\r\n  transition-property: all;\r\n  transition-duration: 1s;\r\n  transition-timing-function: ease;\r\n\r\n  &.pc {\r\n    padding-top: 68px;\r\n  }\r\n\r\n  &.mobile {\r\n    padding-top: 60px;\r\n  }\r\n\r\n  .padding {\r\n    min-width: 300px;\r\n    transition-property: all;\r\n    transition-duration: 0s;\r\n    transition-timing-function: ease;\r\n\r\n    &.static {\r\n      transition-duration: 1s;\r\n      background: #130703;\r\n    }\r\n  }\r\n\r\n  .padding-close {\r\n    min-width: 0px;\r\n    transition-property: all;\r\n    transition-timing-function: ease;\r\n  }\r\n\r\n  .fade-enter-active {\r\n    transition: opacity 0.4s;\r\n  }\r\n\r\n  .fade-enter {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":"src"}]}