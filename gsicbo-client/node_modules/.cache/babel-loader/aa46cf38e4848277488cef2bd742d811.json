{"remainingRequest":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/thread-loader/dist/cjs.js!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/babel-loader/lib/index.js!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/src/views/Store.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/src/views/Store.vue","mtime":1567760084000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.parse-float\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"/Users/crazycapital/Downloads/GuangGame/gsicboDeliver201909302/sources_20190930/gsicbo-client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Footer from \"../components/Footer.vue\";\nimport { mapState, mapMutations } from 'vuex';\nimport { setTimeout } from 'timers';\nexport default {\n  data: function data() {\n    return {\n      tokenShow: false,\n      histories: [{\n        date: '28/08/28 18:00',\n        payment: '10,000.0 EOS',\n        token: '10,000,000'\n      }],\n      quoteToken: 'EOS',\n      quoteTokenAmount: undefined,\n      showToast: false,\n      toastMsg: '',\n      toastImg: '/img/store/ok.svg',\n      showDetailMsg: false,\n      detailMsg: ''\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    /**\r\n     * 사용자 데이터\r\n     */\n    userData: function userData(state) {\n      return state.common.userData;\n    },\n    userID: function userID(state) {\n      if (!state.common.account.name) {\n        return '';\n      }\n\n      return state.common.account.name;\n    },\n\n    /**\r\n     * 로그인 상태인지 판단\r\n     */\n    isLogin: function isLogin(state) {\n      return state.common.account.name !== undefined;\n    },\n\n    /**\r\n     * \r\n     */\n    tazchipBalance: function tazchipBalance(state) {\n      if (!state.common.account.name) {\n        return 0;\n      }\n\n      return state.common.balance.tazchip;\n    },\n\n    /**\r\n     * \r\n     */\n    tazBalance: function tazBalance(state) {\n      if (!state.common.account.name) {\n        return 0;\n      }\n\n      return state.common.balance.taz;\n    },\n\n    /**\r\n     * \r\n     */\n    eosBalance: function eosBalance(state) {\n      if (!state.common.account.name) {\n        return 0;\n      }\n\n      return state.common.balance.eos;\n    }\n  }), {\n    /**\r\n     * 구매에 사용할 토큰 이미지\r\n     */\n    quoteTokenImg: function quoteTokenImg() {\n      if (this.quoteToken === 'EOS') {\n        return '/img/drawer/EOStoken.svg';\n      }\n\n      return '/img/drawer/taztoken.svg';\n    },\n\n    /**\r\n     * 구매할 TAZ Chip의 수량\r\n     */\n    baseTokenAmount: function baseTokenAmount() {\n      if (!this.quoteTokenAmount) {\n        return 0;\n      }\n\n      if (this.quoteToken === 'EOS') {\n        return this.quoteTokenAmount * 1000;\n      }\n\n      return this.quoteTokenAmount * 10;\n    },\n\n    /**\r\n     * 구매 수량 에디터의 hint\r\n     */\n    quoteTokenHint: function quoteTokenHint() {\n      return this.quoteToken === 'EOS' ? 'Minimum 0.1' : 'Minimum 10';\n    },\n\n    /**\r\n     * VIP 메달 이미지\r\n     */\n    vipMedal: function vipMedal() {\n      return \"/img/vip/ic-vip\".concat(this.userData.vip, \".svg\");\n    }\n  }),\n  created: function created() {\n    var _this = this;\n\n    this.fetchHistoryData();\n    this.$eventBus.$on('close-dropdonw', function (except) {\n      if (except !== 'store-token') {\n        _this.tokenShow = false;\n      }\n    });\n  },\n  mounted: function mounted() {\n    if (this.isLogin) {\n      this.fetchUserData(this.userID);\n    }\n  },\n  watch: {\n    userID: function userID() {\n      this.fetchHistoryData();\n    }\n  },\n  methods: _objectSpread({}, mapMutations(['setEosBalance', 'setTazBalance', 'setTazchipBalance', 'setUserData']), {\n    //\n    // order history정보 호출\n    //\n    fetchHistoryData: function fetchHistoryData() {\n      var _this2 = this;\n\n      fetch(\"\".concat(this.$REST_API_SERVER, \"/api/v1/orders?account=\").concat(this.userID)).then(function (res) {\n        return res.json();\n      }).catch(function () {\n        _this2.histories = {\n          pay_amount: '-',\n          created: '-',\n          pay_token: '-',\n          get_amount: '-'\n        };\n      }).then(function (data) {\n        if (data) {\n          _this2.histories = data.orders;\n        } else {\n          _this2.histories = [];\n        }\n      });\n    },\n    //\n    // 유저 정보 호출\n    //\n    fetchUserData: function fetchUserData(account) {\n      var _this3 = this;\n\n      fetch(\"\".concat(this.$REST_API_SERVER, \"/api/v1/users?account=\").concat(account), {\n        \"method\": \"GET\",\n        \"headers\": {\n          \"content-type\": \"application/json\"\n        }\n      }).then(function (response) {\n        response.json().then(function (userData) {\n          _this3.setUserData(userData);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    //\n    // order history 날짜 양식\n    //\n    getHistoryDate: function getHistoryDate(dateString) {\n      var date = new Date(dateString);\n      var year = date.getFullYear() - 2000;\n      var month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1;\n      var day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\n      var hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n      var minutes = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n      return \"\".concat(day, \"/\").concat(month, \"/\").concat(year, \" \").concat(hour, \":\").concat(minutes);\n    },\n    selectQuoteToken: function selectQuoteToken($event, token) {\n      this.quoteToken = token;\n      this.quoteTokenAmount = undefined;\n      this.tokenShow = !this.tokenShow;\n      this.$eventBus.$emit('close-dropdonw', 'store-token');\n      $event.stopPropagation();\n    },\n    //\n    // 토큰 값 양식\n    //\n    decorate: function decorate() {\n      var number = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var isFixed = arguments.length > 1 ? arguments[1] : undefined;\n      var regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\n      if (isFixed) {\n        var a = number.toFixed(4).toString().split('.');\n        return a[0].replace(regexp, ',') + '.' + a[1];\n      } else {\n        return number.toString().replace(regexp, ',');\n      }\n    },\n    //\n    // 토큰 구매\n    //\n    purchase: function purchase() {\n      var _this4 = this;\n\n      if (!this.userID) {\n        this.toastImg = '/img/store/alert.svg';\n        this.toastMsg = 'error';\n        this.detailMsg = 'checkLogin';\n        this.showDetailMsg = true;\n        this.showToast = true;\n        return;\n      }\n\n      if (!this.quoteTokenAmount || this.quoteToken === 'EOS' && this.quoteTokenAmount < 0.1 || this.quoteToken === 'TAZ' && this.quoteTokenAmount < 10) {\n        if (this.quoteToken === 'EOS') {\n          this.toastImg = '/img/store/alert.svg';\n          this.toastMsg = 'error';\n          this.detailMsg = 'checkMinEOS';\n          this.showDetailMsg = true;\n          this.showToast = true;\n        } else {\n          this.toastImg = '/img/store/alert.svg';\n          this.toastMsg = 'error';\n          this.detailMsg = 'checkMinTAZ';\n          this.showDetailMsg = true;\n          this.showToast = true;\n        }\n\n        return;\n      }\n\n      if (this.quoteToken === 'EOS' && this.eosBalance < this.quoteTokenAmount) {\n        this.toastImg = '/img/store/alert.svg';\n        this.toastMsg = 'error';\n        this.detailMsg = 'checkEOSBalance';\n        this.showDetailMsg = true;\n        this.showToast = true;\n        return;\n      }\n\n      if (this.quoteToken === 'TAZ' && this.tazBalance < this.quoteTokenAmount) {\n        this.toastImg = '/img/store/alert.svg';\n        this.toastMsg = 'error';\n        this.detailMsg = 'checkTAZBalance';\n        this.showDetailMsg = true;\n        this.showToast = true;\n        return;\n      }\n\n      var contract = this.quoteToken === 'EOS' ? 'eosio.token' : 'taztokenbase';\n      var amount = this.quoteToken === 'EOS' ? \"\".concat(Number.parseFloat(this.quoteTokenAmount).toFixed(4), \" EOS\") : \"\".concat(Number.parseFloat(this.quoteTokenAmount).toFixed(4), \" TAZ\");\n      this.$chain.transfer(this.userID, 'tazchipstore', contract, amount).subscribe(function (result) {\n        console.log(result);\n\n        if (result.processed.receipt.status === 'executed') {\n          _this4.toastImg = '/img/store/ok.svg';\n          _this4.toastMsg = 'success';\n          _this4.showDetailMsg = false;\n          _this4.showToast = true;\n          _this4.quoteTokenAmount = '';\n        }\n\n        _this4.$chain.getEosBalance(_this4.userID).subscribe(function (eosBalance) {\n          if (eosBalance.length > 0) {\n            var token = eosBalance[0].split(' ');\n\n            _this4.setEosBalance(Number.parseFloat(token[0]));\n          } else {\n            _this4.setEosBalance(0);\n          }\n        }, function (error) {\n          return console.error(error);\n        });\n\n        _this4.$chain.getBalance('taztokenbase', _this4.userID, 'TAZ').subscribe(function (tazBalance) {\n          if (tazBalance.length > 0) {\n            var token = tazBalance[0].split(' ');\n\n            _this4.setTazBalance(Number.parseFloat(token[0]));\n          } else {\n            _this4.setTazBalance(0);\n          }\n        }, function (error) {\n          return console.error(error);\n        });\n\n        _this4.$chain.getBalance('taztokenbase', _this4.userID, 'TAZCHIP').subscribe(function (tazchipBalance) {\n          if (tazchipBalance.length > 0) {\n            var token = tazchipBalance[0].split(' ');\n\n            _this4.setTazchipBalance(Number.parseFloat(token[0]));\n          } else {\n            _this4.setTazchipBalance(0);\n          }\n        }, function (error) {\n          return console.error(error);\n        });\n\n        setTimeout(function () {\n          return _this4.fetchHistoryData();\n        }, 2000);\n      }, function (error) {\n        console.error(error);\n      });\n    },\n    toggleTokenDropdown: function toggleTokenDropdown($event) {\n      this.tokenShow = !this.tokenShow;\n      this.$eventBus.$emit('close-dropdonw', 'store-token');\n      $event.stopPropagation();\n    }\n  }),\n  components: {\n    'g-footer': Footer\n  }\n};",{"version":3,"sources":["Store.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"app\">\r\n    <transition  name=\"toast-store\">\r\n      <div v-if =\"showToast\" class=\"toast-store\" >\r\n        <img :src=\"toastImg\"  class=\"copied-img\">\r\n        <div class=\"copied-text\" :class=\"{doubleline: showDetailMsg}\">\r\n          {{ $t(`store.${toastMsg}`) }}\r\n        </div>\r\n        <div v-if=\"showDetailMsg\" class=\"detail-text\">\r\n          {{ $t(`store.${detailMsg}`) }}\r\n        </div>\r\n        <div class=\"close-btn-wrap\"  @click=\"showToast = false\">{{ $t(`store.close`) }}</div>\r\n      </div>\r\n    </transition>\r\n    <div class=\"layout\">\r\n      <div class=\"title-wrap\">\r\n        <div class=\"title-box\">\r\n          <img src=\"/img/store/title.svg\" class=\"title-img\">\r\n          <span class=\"title-text\">{{ $t('store.store') }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"user-info-wrap\">\r\n        <div class=\"medal-wrap\">\r\n          <img :src=\"vipMedal\" class=\"medal-img\">\r\n          <span class=\"user-name\">{{ userID || '-' }}</span>\r\n        </div>\r\n        <div class=\"balance-header\">\r\n          <span class=\"token-name-header\">{{ $t('store.token') }}</span>\r\n          <span class=\"balance-value-header\">{{ $t('store.balance') }}</span>\r\n        </div>\r\n        <div class=\"balance-row\">\r\n          <div class=\"token-name\"><img src=\"/img/drawer/tazchip.svg\" class=\"token-img\">TAZ Chip</div>\r\n          <span class=\"balance-value\"> {{ decorate(tazchipBalance, true) || '-' }} </span>\r\n        </div>\r\n        <div class=\"balance-row\">\r\n          <div class=\"token-name\"><img src=\"/img/drawer/taztoken.svg\" class=\"token-img\">TAZ</div>\r\n          <span class=\"balance-value\"> {{ decorate(tazBalance, true) || '-' }} </span>\r\n        </div>\r\n        <div class=\"balance-row\">\r\n          <div class=\"token-name\"><img src=\"/img/drawer/EOStoken.svg\" class=\"token-img\">EOS</div>\r\n          <span class=\"balance-value\"> {{ decorate(eosBalance, true) || '-' }} </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"purchase-order-wrap\">\r\n        <div class=\"purchase-box-wrap\">\r\n          <img src=\"/img/store/house.svg\" class=\"purchase-box-img\">\r\n          <img src=\"/img/store/transparent.svg\" class=\"hidden-box\">\r\n          <div class=\"content-box\">\r\n            <div class=\"anouncement-text\">\r\n              {{ $t('store.info1') }} <br>{{ $t('store.info2') }}\r\n            </div>\r\n            <div class=\"purchase-input-wrap\">\r\n              <input type=\"number\" class=\"purchase-input\" v-model=\"quoteTokenAmount\" :placeholder=\"quoteTokenHint\">\r\n              <div class=\"token-selector-wrap\">\r\n                <div class=\"token-selector\" @click=\"toggleTokenDropdown\">\r\n                  <img :src=\"quoteTokenImg\" class=\"purchase-token-img\">\r\n                  {{quoteToken}}\r\n                  <img src=\"/img/sort-btn.svg\" class=\"select-btn\">\r\n                </div>\r\n                <transition name=\"slide\">\r\n                  <div class=\"token-dropdown-content\" v-if=\"tokenShow\">\r\n                    <div class=\"token-select-row-0\">&nbsp;</div>\r\n                    <div class=\"token-select-row\" @click=\"selectQuoteToken($event, 'EOS')\">\r\n                      <img src=\"/img/drawer/EOStoken.svg\" class=\"token-select-row-img\">EOS\r\n                    </div>\r\n                    <div class=\"token-select-row\" @click=\"selectQuoteToken($event, 'TAZ')\">\r\n                      <img src=\"/img/drawer/taztoken.svg\" class=\"token-select-row-img\">TAZ\r\n                    </div>\r\n                  </div>\r\n                </transition>\r\n              </div>\r\n            </div>\r\n            <div class=\"arrow\">\r\n              <img src=\"/img/store/arrow.svg\" class=\"arrow-img\">\r\n            </div>\r\n            <div class=\"preview-box\">\r\n              <img src=\"/img/drawer/tazchip.svg\" class=\"preview-token-img\">\r\n              {{ decorate(baseTokenAmount, true) }}\r\n              <span class=\"token-unit\">TAZ Chip</span>\r\n            </div>\r\n            <div class=\"exchange-rate\" v-if=\"quoteToken === 'EOS'\">1 EOS = 1,000 TAZ Chip</div>\r\n            <div class=\"exchange-rate\" v-if=\"quoteToken === 'TAZ'\">1 TAZ = 10 TAZ Chip</div>\r\n            <div class=\"purchase-btn\" @click=\"purchase\">{{ $t('store.purchase') }} </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"history-wrap\">\r\n          <div class=\"history-title\">{{ $t('store.orderHistory') }} </div>\r\n          <div class=\"history-header-row\">\r\n            <div class=\"header-date\">{{ $t('store.date') }} </div>\r\n            <div class=\"header-payment\">{{ $t('store.payment') }} </div>\r\n            <div class=\"header-token\">TAZ Chip</div>\r\n          </div>\r\n          <div class=\"list-container\">\r\n            <div v-for=\"(history, index) of histories\" :key=\"index\" class=\"history-data-row\">\r\n              <div class=\"data-date\">{{ getHistoryDate(history.created) }}</div>\r\n              <div class=\"data-payment\">{{ decorate(history.pay_amount, true) }} {{history.pay_token}}</div>\r\n              <div class=\"data-token\">{{ decorate(history.get_amount, false) }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <g-footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Footer from '../components/Footer.vue';\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport { setTimeout } from 'timers';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tokenShow: false,\r\n      histories: [\r\n        {date: '28/08/28 18:00', payment: '10,000.0 EOS', token: '10,000,000'},\r\n      ],\r\n      quoteToken: 'EOS',\r\n      quoteTokenAmount: undefined,\r\n      showToast: false,\r\n      toastMsg: '',\r\n      toastImg: '/img/store/ok.svg',\r\n      showDetailMsg: false,\r\n      detailMsg: '',\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      /**\r\n       * 사용자 데이터\r\n       */\r\n      userData(state) {\r\n        return state.common.userData;\r\n      },\r\n      userID(state) {\r\n        if (!state.common.account.name) {\r\n          return ''\r\n        }\r\n        return state.common.account.name;\r\n      },\r\n      /**\r\n       * 로그인 상태인지 판단\r\n       */\r\n      isLogin(state) {\r\n        return state.common.account.name !== undefined;\r\n      },\r\n      /**\r\n       * \r\n       */\r\n      tazchipBalance(state) {\r\n        if (!state.common.account.name) {\r\n          return 0;\r\n        }\r\n        return state.common.balance.tazchip;\r\n      },\r\n      /**\r\n       * \r\n       */\r\n      tazBalance(state) {\r\n        if (!state.common.account.name) {\r\n          return 0;\r\n        }\r\n        return state.common.balance.taz;\r\n      },\r\n      /**\r\n       * \r\n       */\r\n      eosBalance(state) {\r\n        if (!state.common.account.name) {\r\n          return 0;\r\n        }\r\n        return state.common.balance.eos;\r\n      },\r\n    }),\r\n    /**\r\n     * 구매에 사용할 토큰 이미지\r\n     */\r\n    quoteTokenImg() {\r\n      if (this.quoteToken === 'EOS') {\r\n        return '/img/drawer/EOStoken.svg';\r\n      }\r\n      return '/img/drawer/taztoken.svg';\r\n    },\r\n    /**\r\n     * 구매할 TAZ Chip의 수량\r\n     */\r\n    baseTokenAmount() {\r\n      if (!this.quoteTokenAmount) {\r\n        return 0;\r\n      }\r\n\r\n      if (this.quoteToken === 'EOS') {\r\n        return this.quoteTokenAmount * 1000;\r\n      }\r\n\r\n      return this.quoteTokenAmount * 10;\r\n    },\r\n    /**\r\n     * 구매 수량 에디터의 hint\r\n     */\r\n    quoteTokenHint() {\r\n      return (this.quoteToken === 'EOS') ? 'Minimum 0.1' : 'Minimum 10';\r\n    },\r\n    /**\r\n     * VIP 메달 이미지\r\n     */\r\n    vipMedal() {\r\n      return `/img/vip/ic-vip${this.userData.vip}.svg`\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchHistoryData();\r\n    this.$eventBus.$on('close-dropdonw', (except) => {\r\n      if (except !== 'store-token') {\r\n        this.tokenShow = false;\r\n      }\r\n    });\r\n  },\r\n  mounted() {\r\n    if (this.isLogin) { \r\n      this.fetchUserData(this.userID);\r\n    }\r\n  },\r\n  watch: {\r\n    userID: function() {\r\n      this.fetchHistoryData();\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * vuex store\r\n     */\r\n    ...mapMutations([\r\n      'setEosBalance',\r\n      'setTazBalance',\r\n      'setTazchipBalance',\r\n      'setUserData'\r\n    ]),\r\n    //\r\n    // order history정보 호출\r\n    //\r\n    fetchHistoryData() {\r\n      fetch(`${this.$REST_API_SERVER}/api/v1/orders?account=${this.userID}`)\r\n        .then(res => {\r\n          return res.json();\r\n        })\r\n        .catch( () => {\r\n          this.histories = {\r\n                              pay_amount: '-',\r\n                              created: '-',\r\n                              pay_token: '-',\r\n                              get_amount: '-'\r\n                            }\r\n        })\r\n        .then(data => {\r\n          if (data) {\r\n            this.histories = data.orders;\r\n          } else {\r\n            this.histories = [];\r\n          }\r\n        })\r\n    },\r\n    //\r\n    // 유저 정보 호출\r\n    //\r\n    fetchUserData(account) {\r\n      fetch(`${this.$REST_API_SERVER}/api/v1/users?account=${account}`, {\r\n        \"method\": \"GET\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(response => {\r\n        response.json().then(userData => {\r\n          this.setUserData(userData);\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    //\r\n    // order history 날짜 양식\r\n    //\r\n    getHistoryDate(dateString) {\r\n      const date = new Date(dateString);\r\n      const year = date.getFullYear() - 2000\r\n      const month = (date.getMonth() + 1) < 10 ? '0'+(date.getMonth() + 1) : date.getMonth() + 1;\r\n      const day = date.getDate() < 10 ? '0'+date.getDate() : date.getDate();\r\n      const hour = (date.getHours()) < 10 ? '0'+ (date.getHours()) : date.getHours();\r\n      const minutes = date.getMinutes() < 10 ? '0'+ date.getMinutes() : date.getMinutes();\r\n      return `${day}/${month}/${year} ${hour}:${minutes}`\r\n    },\r\n\r\n    selectQuoteToken($event, token) {\r\n      this.quoteToken = token;\r\n      this.quoteTokenAmount = undefined;\r\n      this.tokenShow= !this.tokenShow;\r\n      this.$eventBus.$emit('close-dropdonw','store-token');\r\n      $event.stopPropagation();\r\n    },\r\n    //\r\n    // 토큰 값 양식\r\n    //\r\n    decorate(number=0, isFixed) {\r\n      const regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\r\n      if(isFixed) {\r\n        const a = number.toFixed(4).toString().split('.');\r\n        return a[0].replace(regexp, ',')+'.'+a[1];\r\n      } else {\r\n        return number.toString().replace(regexp, ',');\r\n      }\r\n    },\r\n    //\r\n    // 토큰 구매\r\n    //\r\n    purchase() {\r\n      if (!this.userID) {\r\n        this.toastImg = '/img/store/alert.svg'\r\n        this.toastMsg = 'error';\r\n        this.detailMsg = 'checkLogin';\r\n        this.showDetailMsg = true;\r\n        this.showToast = true;\r\n        return;\r\n      }\r\n\r\n      if (!this.quoteTokenAmount || (this.quoteToken === 'EOS' && this.quoteTokenAmount < 0.1)\r\n                                 || (this.quoteToken === 'TAZ' && this.quoteTokenAmount < 10)) {\r\n        if (this.quoteToken === 'EOS') {\r\n          this.toastImg = '/img/store/alert.svg'\r\n          this.toastMsg = 'error';\r\n          this.detailMsg = 'checkMinEOS';\r\n          this.showDetailMsg = true;\r\n          this.showToast = true;\r\n        } else {\r\n          this.toastImg = '/img/store/alert.svg'\r\n          this.toastMsg = 'error';\r\n          this.detailMsg = 'checkMinTAZ';\r\n          this.showDetailMsg = true;\r\n          this.showToast = true;\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (this.quoteToken === 'EOS' && this.eosBalance < this.quoteTokenAmount) {\r\n        this.toastImg = '/img/store/alert.svg'\r\n        this.toastMsg = 'error';\r\n        this.detailMsg = 'checkEOSBalance';\r\n        this.showDetailMsg = true;\r\n        this.showToast = true;\r\n        return;\r\n      }\r\n\r\n      if (this.quoteToken === 'TAZ' && this.tazBalance < this.quoteTokenAmount) {\r\n        this.toastImg = '/img/store/alert.svg'\r\n        this.toastMsg = 'error';\r\n        this.detailMsg = 'checkTAZBalance';\r\n        this.showDetailMsg = true;\r\n        this.showToast = true;\r\n        return;\r\n      }\r\n      \r\n      const contract = (this.quoteToken === 'EOS') ? 'eosio.token' : 'taztokenbase';\r\n      const amount = (this.quoteToken === 'EOS') ? `${Number.parseFloat(this.quoteTokenAmount).toFixed(4)} EOS` : `${Number.parseFloat(this.quoteTokenAmount).toFixed(4)} TAZ`;\r\n      this.$chain.transfer(this.userID, 'tazchipstore', contract, amount).subscribe(\r\n        result => {\r\n          console.log(result);\r\n          if (result.processed.receipt.status === 'executed') {\r\n            this.toastImg = '/img/store/ok.svg'\r\n            this.toastMsg = 'success';\r\n            this.showDetailMsg = false;\r\n            this.showToast = true;\r\n            this.quoteTokenAmount = '';\r\n          }\r\n          this.$chain.getEosBalance(this.userID).subscribe(\r\n            eosBalance => {\r\n              if (eosBalance.length > 0) {\r\n                const token = eosBalance[0].split(' ');\r\n                this.setEosBalance(Number.parseFloat(token[0]));\r\n              } else {\r\n                this.setEosBalance(0);\r\n              }\r\n            },\r\n            error => console.error(error)\r\n          );\r\n\r\n          this.$chain.getBalance('taztokenbase', this.userID, 'TAZ').subscribe(\r\n            tazBalance => {\r\n              if (tazBalance.length > 0) {\r\n                const token = tazBalance[0].split(' ');\r\n                this.setTazBalance(Number.parseFloat(token[0]));\r\n              } else {\r\n                this.setTazBalance(0);\r\n              }\r\n            },\r\n            error => console.error(error)\r\n          );\r\n\r\n          this.$chain.getBalance('taztokenbase', this.userID, 'TAZCHIP').subscribe(\r\n            tazchipBalance => {\r\n              if (tazchipBalance.length > 0) {\r\n                const token = tazchipBalance[0].split(' ');\r\n                this.setTazchipBalance(Number.parseFloat(token[0]));\r\n              } else {\r\n                this.setTazchipBalance(0);\r\n              }\r\n            },\r\n            error => console.error(error)\r\n          );\r\n\r\n          setTimeout(() => this.fetchHistoryData(), 2000)\r\n        },\r\n        error => {\r\n          console.error(error)\r\n        }\r\n      )\r\n    },\r\n    toggleTokenDropdown($event) {\r\n      this.tokenShow = !this.tokenShow;\r\n      this.$eventBus.$emit('close-dropdonw','store-token');\r\n      $event.stopPropagation();\r\n    }\r\n  },\r\n  components: {\r\n    'g-footer': Footer\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import '../scss/flex.scss';\r\n  @import '../scss/fonts.scss';\r\n\r\n  .app {\r\n    @extend .flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    min-height: 100%;\r\n    background-image: url('/img/mobile-background.svg');\r\n    background-repeat: repeat;\r\n    background-position: center;\r\n    background-size: 40%;\r\n    @media (min-width: 984px) {\r\n      background-image: url('/img/background-red.jpg');\r\n      background-size: cover;\r\n    }\r\n  }\r\n\r\n  .layout {\r\n    @media (min-width: 984px) {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      align-content: flex-start;\r\n    }\r\n  }\r\n\r\n  .title-wrap {\r\n    width: 100%;\r\n    margin: 28px 0;\r\n    height: 68px;\r\n\r\n    @media (min-width: 984px) {\r\n      margin: 60px 0;\r\n    }\r\n  }\r\n\r\n  .title-box {\r\n    position: relative;\r\n    width: 312px;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .title-img {\r\n    display: block;\r\n    position: absolute;\r\n    z-index: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .title-text {\r\n    @extend .text-title-big;\r\n    position: absolute;\r\n    color: white;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translateX(-50%) translateY(-90%);\r\n\r\n    @media (min-width: 984px) {\r\n      font-size: 24px;\r\n    }\r\n  }\r\n\r\n  .user-info-wrap {\r\n    min-width: 260px;\r\n    width: 50%;\r\n    height: 218px;\r\n    margin: 0 auto 56px;\r\n    padding: 16px;\r\n    box-sizing: border-box;\r\n    background: #131E3A;\r\n    border: 1px solid #2A3D6C;\r\n    border-radius: 6px;\r\n\r\n    @media (min-width: 984px) {\r\n      width: 320px;\r\n      height: 572px;\r\n      margin: 0 20px 56px auto;\r\n      padding: 40px 0;\r\n    }\r\n  }\r\n\r\n  .medal-wrap {\r\n    @extend .flex;\r\n    width: 156px;\r\n    height: 30px;\r\n    margin: 0 auto 16px;\r\n\r\n    @media (min-width: 984px) {\r\n      justify-content: center;\r\n      align-items: center;\r\n      flex-direction: column;\r\n      width: 184px;\r\n      height: 166px;\r\n    }\r\n\r\n    & .medal-img {\r\n      width: 30px;\r\n      height: 30px;\r\n\r\n      @media (min-width: 984px) {\r\n        width: 120px;\r\n        height: 120px;\r\n      }\r\n    }\r\n\r\n    & .user-name {\r\n      @extend .text-normal;\r\n      color: white;\r\n      line-height: 30px;\r\n      margin: 0 auto;\r\n\r\n      @media (min-width: 984px) {\r\n        font-size: 18px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .balance-boxsize {\r\n    @extend .flex;\r\n    justify-content: space-between;\r\n    min-width: 208px;\r\n    width: 80%;\r\n    height: 24px;\r\n    margin: 0 auto 10px;\r\n\r\n    @media (min-width: 984px) {\r\n      height: 32px;\r\n      margin-bottom: 16px;\r\n    }\r\n  }\r\n\r\n  .balance-header {\r\n    @extend .balance-boxsize;\r\n    @extend .text-normal;\r\n    color: #FFD8A1;\r\n    line-height: 30px;\r\n\r\n    @media (min-width: 984px) {\r\n      font-size: 18px;\r\n    }\r\n  }\r\n\r\n  .balance-row {\r\n    @extend .balance-boxsize;\r\n    @extend .text-normal;\r\n    color: white;\r\n\r\n    @media (min-width: 984px) {\r\n      font-size: 18px;\r\n      font-weight: 400;\r\n    }\r\n\r\n    & .token-img {\r\n      width: 16px;\r\n      height: 16px;\r\n      margin: 4px 8px 4px 0;\r\n      @media (min-width: 984px) {\r\n        width: 20px;\r\n        height: 20px; \r\n      }\r\n    }\r\n\r\n    & .token-name {\r\n      @extend .flex;\r\n      line-height: 24px;\r\n    }\r\n\r\n    & .balance-value {\r\n      line-height: 24px;\r\n    }\r\n  }\r\n\r\n  .purchase-order-wrap {\r\n    margin-right: auto;\r\n    margin-bottom: 150px;\r\n    @media (min-width: 984px) {\r\n      margin-left: 20px;\r\n    }\r\n  \r\n  }\r\n\r\n  .purchase-box-wrap {\r\n    position: relative;\r\n    min-width: 324px;\r\n    width: 40%;\r\n    margin: 0 auto 56px;\r\n\r\n    @media (min-width: 984px) {\r\n      width: 456px;\r\n      margin: 0 auto 56px;\r\n    }\r\n  }\r\n\r\n  .purchase-box-img {\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n  }\r\n\r\n  .hidden-box {\r\n    min-width: 324px;\r\n    width: 103%\r\n  }\r\n\r\n  .content-box {\r\n    width: 264px;\r\n    width: 80%;\r\n    height: 428px;\r\n    background: linear-gradient(180deg, #3C1708 0%, #130703 100%);\r\n    margin: 0 auto;\r\n    border-radius: 6px;\r\n  }\r\n\r\n\r\n  .anouncement-text {\r\n    @extend .text-normal;\r\n    @extend .flex;\r\n    @extend .flex-center;\r\n    @extend .flex-middle;\r\n    color: white;\r\n    line-height: 28px;\r\n    text-align: center;\r\n    height: 144px;\r\n    font-weight: 400;\r\n  }\r\n\r\n  .purchase-input-wrap {\r\n    @extend .flex;\r\n    @extend .flex-center;\r\n  }\r\n\r\n  .purchase-input {\r\n    @extend .text-normal;\r\n    width: 106px;\r\n    height: 32px;\r\n    background: #612D17;\r\n    box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.25);\r\n    border-radius: 5px;\r\n    border: none;\r\n    text-align: center;\r\n    margin-right: 10px;\r\n    color: #C0C0C0;\r\n\r\n    &::placeholder {\r\n      color: #C0C0C0;\r\n    }\r\n\r\n    &:focus {\r\n      outline: none;\r\n      caret-color: white;\r\n    }\r\n\r\n    &::-webkit-inner-spin-button {\r\n      -webkit-appearance: none;\r\n      -moz-appearance: none;\r\n      appearance: none;\r\n      margin: 0; \r\n    }\r\n  }\r\n\r\n  .token-selector {\r\n    @extend .flex;\r\n    @extend .text-normal;\r\n    position: absolute;\r\n    font-weight: 400;\r\n    position: absolute;\r\n    z-index: 100;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 92px;\r\n    height: 32px;\r\n    background: #612D17;\r\n    color: #FFD8A1;\r\n    box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.25);\r\n    border-radius: 60px;\r\n    cursor: pointer;\r\n\r\n    & .purchase-token-img {\r\n      width: 20px;\r\n      height: 20px;\r\n      margin: 6px;\r\n    }\r\n\r\n    & .select-btn {\r\n      width: 10px;\r\n      height: 5px;\r\n      margin: 13px 7px 14px;\r\n    }\r\n  }\r\n\r\n  .arrow {\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 50%;\r\n    background: rgba(97, 45, 23, 0.3);\r\n    margin: 20px auto;\r\n  }\r\n\r\n  .arrow-img {\r\n    width: 16px;\r\n    height: 16px;\r\n    margin: 8px;\r\n  }\r\n\r\n  .preview-box {\r\n    @extend .flex;\r\n    @extend .text-normal;\r\n    font-weight: 400;\r\n    justify-content: space-between;\r\n    width: 224px;\r\n    height: 32px;\r\n    background: rgba(97, 45, 23, 0.3);\r\n    margin: 0 auto;\r\n    color: #13EB1B;\r\n    line-height: 34px;\r\n  }\r\n\r\n  .preview-token-img {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin: 6px;\r\n  }\r\n\r\n  .token-unit {\r\n    width: 84px;\r\n    height: 32px;\r\n    text-align: center;\r\n    color: white;\r\n    line-height: 34px;\r\n  }\r\n\r\n  .exchange-rate {\r\n    width: 224px;\r\n    height: 44px;\r\n    @extend .text-normal;\r\n    color: #C0C0C0;\r\n    margin: 0 auto;\r\n    line-height: 44px;\r\n    text-align: center;\r\n    font-weight: 400;\r\n  }\r\n\r\n  .purchase-btn {\r\n    width: 156px;\r\n    height: 48px;\r\n    margin: 28px auto;\r\n    background: linear-gradient(180deg, #DA241C 0%, #5B110D 100%);\r\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n    border-radius: 15px;\r\n    @extend .text-btn-big;\r\n    color: white;\r\n    line-height: 48px;\r\n    text-align: center;\r\n    font-weight: 400;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: #FFFF58;\r\n    }\r\n  }\r\n\r\n  .history-wrap {\r\n    min-width: 312px;\r\n    width: 50%;\r\n    height: 344px;\r\n    margin: 0 auto;\r\n    margin-bottom: 56px;\r\n    border: 1px solid #2A3D6C;\r\n    background: #131E3A;\r\n    padding: 0 8px;\r\n    box-sizing: border-box;\r\n    border-radius: 6px;\r\n\r\n    @media (min-width: 984px) {\r\n      width: 376px;\r\n      min-height: 344px;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n\r\n  .list-container {\r\n    height: 240px;\r\n    overflow-y: scroll;\r\n    &::-webkit-scrollbar-track {\r\n      -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\r\n      border-radius: 10px;\r\n    }\r\n\r\n    &::-webkit-scrollbar {\r\n      width: 6px;\r\n    }\r\n\r\n    &::-webkit-scrollbar-thumb {\r\n      border-radius: 10px;\r\n      box-shadow: inset 0 0 6px rgba(0,0,0,.3);\r\n      background: #2A3D6C;    }\r\n  }\r\n\r\n  .history-title {\r\n    @extend .text-title;\r\n    color: #FFD8A1;\r\n    text-align: center;\r\n    height: 52px;\r\n    line-height: 52px;\r\n  }\r\n\r\n  .history-header-row {\r\n    @extend .flex;\r\n    @extend .text-normal;\r\n    justify-content: space-around;\r\n    height: 32px;\r\n    line-height: 32px;\r\n    color: #FFD8A1;\r\n    padding: 0 10px;\r\n  }\r\n\r\n  .header-date {\r\n    width: 100px;\r\n  }\r\n\r\n  .header-payment {\r\n    width: 88px;\r\n    text-align: right;\r\n  }\r\n\r\n  .header-token {\r\n    width: 100px;\r\n    text-align: right;\r\n  }\r\n\r\n  .history-data-row {\r\n    @extend .flex;\r\n    @extend .text-small;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    color: white;\r\n    font-weight: 400;\r\n    padding: 0 10px;\r\n    justify-content: space-around;\r\n  }\r\n\r\n  .data-date {\r\n    width: 100px;\r\n  }\r\n\r\n  .data-payment {\r\n    width: 88px;\r\n    text-align: right;\r\n  }\r\n\r\n  .data-token {\r\n    width: 100px;\r\n    text-align: right;\r\n  }\r\n\r\n\r\n  .slide-enter-active {\r\n    transition: all .3s ease;\r\n  }\r\n\r\n  .slide-leave-active {\r\n    transition: all .3s;\r\n  }\r\n\r\n  .slide-enter,\r\n  .slide-leave-to {\r\n    transform: translateY(-10px);\r\n    opacity: 0;\r\n  }\r\n\r\n  .token-selector-wrap {\r\n    position: relative;\r\n    width: 92px;\r\n    height: 32px;\r\n  }\r\n\r\n  .token-dropdown-content {\r\n    position: absolute;\r\n    z-index: 0;\r\n    top: 16px;\r\n    left: 0;\r\n    width: 92px;\r\n    height: 136px;\r\n  }\r\n\r\n  .token-select-row-0 {\r\n    height: 16px;\r\n    background: #563008;\r\n  }\r\n\r\n  .token-select-row {\r\n    @extend .text-btn-small;\r\n    @extend .flex;\r\n    font-weight: 400;\r\n    background: #563008;\r\n    height: 40px;\r\n    text-align: left;\r\n    line-height: 42px;\r\n    color: white;\r\n    border-top: 1px solid #9E896A;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: #563008;\r\n      background: white;\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      border-top: none;\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      border-radius: 0px 0px 15px 15px;\r\n    }\r\n  }\r\n\r\n  .token-select-row-img {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin: 10px 6px;\r\n  }\r\n\r\n  .toast-store {\r\n    position: absolute;\r\n    width: 324px;\r\n    height: 240px;\r\n    background: white;\r\n    color: black;\r\n    top: 26%;\r\n    z-index: 9999;\r\n    left: 50%;\r\n    margin-left: -168px;\r\n    @media (min-width: 984px) {\r\n      width: 436px;\r\n    }\r\n  }\r\n\r\n  .toast-store-enter-active, .toast-store-leave-active {\r\n    transition: all .5s \r\n  }\r\n\r\n  .toast-store-enter, .toast-store-leave-to {\r\n    opacity: 0;\r\n    transform: translateY(-50%)\r\n  }\r\n\r\n  .close-btn-wrap {\r\n    width: 74px;\r\n    height: 32px;\r\n    color: white;\r\n    font-weight: 400;\r\n    background: linear-gradient(180deg, #DA241C 0%, #5B110D 100%);\r\n    border-radius: 4px;\r\n    margin: 24px auto 0;\r\n    line-height: 34px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .copied-img {\r\n    display: block;\r\n    width: 98px;\r\n    height: 84px;\r\n    margin: 20px auto 0;\r\n  }\r\n\r\n  .copied-text {\r\n    @extend .text-normal;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-weight: 600;\r\n    height: 56px;\r\n    text-align: center;\r\n  }\r\n\r\n  .detail-text {\r\n    height: 28px;\r\n    @extend .text-normal;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-weight: 600;\r\n    text-align: center;\r\n  }\r\n\r\n  .doubleline {\r\n    height: 28px;\r\n  }\r\n\r\n\r\n\r\n\r\n  </style>"],"sourceRoot":"src/views"}]}